**Class**: [[11896 INFORMATICA/11896-Informatica/Classes/67425 - Architettura dei Calcolatori|67425 - Architettura dei Calcolatori]]
**Date**: 2025-11-13
**Topics**:
**Books**:

### JAL
``` cpp
main:
esempio_foglie(3, 4, 5, 6)
li a0, 3
li a1, 4
li a2, 5
li a3, 6

JAL esempio_foglie;

esempio_foglie
ADDI sp, sp, -4
ADD t0, a2, a3 #i+j
ADDI sp, sp, -4 #offset
SW s0, 0(sp) #salvo il valore di s0 prima di usarlo
ADD s0, a0, a1 #j+h
SUB t1, s0 #(g+h)-(i+j)
MVQ 0, t1
LW s0, 0(sp)
ADDI sp, sp+8 #incremento lo stack pointer per rispostarlo a posto

esempio_foglie1:
for(i=0; i<t1; i++)
	li t0, 0 // i=0
	L1: bge t0, t1 fine
	li t2, 3
	li t4, 4
	add t4, t2, t3
	j L1
	
//riscritto, stiamo usando int al posto di long long
esempio_foglia
ADDI sp, sp, -8
ADD t0, a0, a1
SW s0, 0(sp)
ADD s0, a2, a3
SUB a0, t0, s0 #salvo il valore di s0 prima di usarlo
SW a0, 4(sp) #salvo f
LW s0, 0(sp) #recupero il valore di s0
ADDI sp, sp, 8 #metto a posto lo stack point
RET 
//semplificazione
ADD t0, a0, a1
ADD t1, a2, a3
SUB a0, t0, t1
RET
```

### Esercizio
``` cpp
main:
li a0, 2
li a1, 3
li a2, 4
li a3, 5

JAL diffofsums
MV t0, q0

diffofsums:
ADDI sp, sp, -4
ADD t0, a0, a1 //t0=a0+a1
ADD t1, a2, a3 //t1=a2+a3
SUB a0, t0, t1
SW a0, 0(sp)
ADDI sp, sp, 4
RET

```